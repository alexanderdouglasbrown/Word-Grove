(this["webpackJsonpword-hole"]=this["webpackJsonpword-hole"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(17),c=n.n(a),r=(n(51),n(2)),o=n(9),i=n(7),l=n(3),d=n(44),j=n(4),u=n.n(j),b=n(0),m=Object(s.createContext)(),O=function(e){var t=Object(s.useState)(!1),n=Object(r.a)(t,2),a=n[0],c=n[1],o=Object(s.useState)(""),i=Object(r.a)(o,2),l=i[0],j=i[1],O=Object(s.useState)(null),h=Object(r.a)(O,2),p=h[0],f=h[1],x=Object(s.useState)("User"),v=Object(r.a)(x,2),g=v[0],N=v[1],w=Object(s.useState)(window.localStorage.getItem("token")),y=Object(r.a)(w,2),S=y[0],C=y[1],k=function(){c(!1),j(""),f(null),N("User"),C(null),window.localStorage.removeItem("token"),u.a.defaults.headers.common.Authorization=null};return Object(s.useEffect)((function(){if(S){var e=Object(d.a)(S);e.exp>Date.now()/1e3?(u.a.defaults.headers.common.Authorization=S,c(!0),j(e.Username),f(Number(e.UserID)),N(e["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]),window.localStorage.getItem("token")!==S&&window.localStorage.setItem("token",S)):k()}else k()}),[S]),Object(b.jsx)(m.Provider,{value:[{isLoggedIn:a,username:l,userID:p,access:g,token:S},C],children:e.children})},h=m,p=n(30),f=n(15),x=n.n(f),v=function(e){var t=512,n=Object(s.useState)(""),a=Object(r.a)(n,2),c=a[0],o=a[1],i=Object(s.useState)(t),d=Object(r.a)(i,2),j=d[0],m=d[1];return Object(b.jsx)("div",{className:"card",style:{margin:"1rem auto"},children:Object(b.jsxs)("div",{className:"card-content",children:[Object(b.jsx)("textarea",{required:!0,onChange:function(e){var n=e.target.value;n.length>t&&(n=n.substr(0,t)),m(t-n.length),o(n)},className:"textarea",placeholder:"Put your words on Word Hole",value:c}),Object(b.jsx)("button",{onClick:function(){u.a.post("/api/home/post",{Post:c}).then((function(){o(""),m(t),e.refreshPosts()})).catch((function(){return l.a.error("Sorry, an error occurred")}))},className:"button is-primary",style:{marginTop:"0.5rem"},children:"Post"}),Object(b.jsxs)("div",{style:{float:"right",color:"lightgray"},children:["Remaining characters: ",j]})]})})},g=n(19),N=n.n(g),w=n(10),y=n(6),S=n(45),C=function(e){var t=Object(s.useContext)(h),n=Object(r.a)(t,1)[0],a=e.postID,c=e.totalLikes,o=e.isUserLiked,i=e.refresh,d=function(){u.a.delete("/api/likes",{data:{PostID:a}}).then((function(){i()})).catch((function(){return l.a.error("Sorry, something went wrong")}))},j=function(){u.a.put("/api/likes",{PostID:a}).then((function(){i()})).catch((function(){return l.a.error("Sorry, something went wrong")}))};return Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"1.5rem"},children:[Object(b.jsx)(w.a,{style:{marginTop:"0.15rem",color:"fuchsia",cursor:"pointer"},icon:o?y.c:S.a,onClick:function(){n.isLoggedIn?o?d():j():l.a.info("Please log in to Like posts")}}),Object(b.jsx)("div",{style:{marginLeft:"0.25rem",fontWeight:600},children:"".concat(c?"(".concat(c,")"):"")})]})},k=(n(86),function(e){var t=512,n=Object(s.useContext)(h),a=Object(r.a)(n,1)[0],c=e.postID,i=e.isExpanded,d=e.isProfile,j=e.expandPost,m=e.refreshIndex,O=e.setRefreshIndex,p=Object(s.useState)(null),f=Object(r.a)(p,2),x=f[0],v=f[1],g=Object(s.useState)(null),w=Object(r.a)(g,2),y=w[0],S=w[1],k=Object(s.useState)(null),I=Object(r.a)(k,2),D=I[0],L=I[1],P=Object(s.useState)(null),E=Object(r.a)(P,2),F=E[0],U=E[1],B=Object(s.useState)(!1),R=Object(r.a)(B,2),q=R[0],A=R[1],W=Object(s.useState)(""),z=Object(r.a)(W,2),T=z[0],H=z[1],M=Object(s.useState)(t),X=Object(r.a)(M,2),J=X[0],Y=X[1],$=Object(s.useState)(!1),G=Object(r.a)($,2),K=G[0],Q=G[1],V=function(e){q||i||e.target&&e.target.tagName&&"a"!==e.target.tagName.toLowerCase()&&j(c)},Z=Object(s.useCallback)((function(e){null!==c&&u.a.get("/api/post",{params:{ID:c}}).then((function(e){v(e.data.post),S(e.data.totalLikes),U(e.data.totalComments),L(e.data.isUserLiked)})).catch((function(t){t&&t.response&&t.response.data&&t.response.data.notFound?e?(Q(!0),v(null)):l.a.error("Post not found"):l.a.error("Sorry, an error occured")}))}),[c]),_=function(){H(""),A(!1),Y(t)};Object(s.useEffect)((function(){x||K||null===c||Z()}),[Z,x,K,c]),Object(s.useEffect)((function(){K||m!==c||(Z(!0),O(null))}),[m,c,Z,O,K]);return Object(b.jsx)(b.Fragment,{children:x?Object(b.jsxs)("div",{className:"card",style:{margin:"1rem auto",overflowX:"auto"},children:[(a.userID===x.userID||"Admin"===a.access)&&Object(b.jsx)("div",{style:{position:"absolute",top:"0.25rem",right:"0.25rem",fontSize:"0.7rem"},children:q?Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)("div",{className:"LinkButton",onClick:_,children:"Cancel"}),Object(b.jsx)("div",{style:{width:"0.5rem"}}),Object(b.jsx)("div",{className:"LinkButton",onClick:function(){u.a.patch("/api/post",{ID:c,Post:T}).then((function(){_(),Z(),e.onEdit&&e.onEdit()})).catch((function(e){e&&e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):l.a.error("Sorry, an error occured")}))},style:{fontWeight:700},children:"Save"})]}):Object(b.jsx)("div",{className:"LinkButton",onClick:function(){var e=x&&x.post?x.post:"";H(e),A(!0),Y(t-e.length)},children:"Edit"})}),Object(b.jsx)("div",{className:"card-content",style:{cursor:"".concat(i||q?"auto":"pointer")},onClick:V,children:q?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"LinkButton-Danger",onClick:function(){window.confirm("Are you sure you would like to delete this post?")&&u.a.delete("/api/post",{data:{ID:c}}).then((function(){Q(!0),v(null),e.onDelete&&e.onDelete()})).catch((function(e){e&&e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):l.a.error("Sorry, an error occured")}))},style:{position:"absolute",top:"0.25rem",left:"0.25rem",fontSize:"0.7rem"},children:"Delete"}),Object(b.jsx)("textarea",{onChange:function(e){var n=e.target.value;n.length>t&&(n=n.substr(0,t)),Y(t-n.length),H(n)},value:T,className:"textarea"}),Object(b.jsxs)("div",{style:{float:"right",color:"lightgray"},children:["Remaining characters: ",J]})]}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:Object(b.jsx)(N.a,{children:x.post})})})}),Object(b.jsxs)("div",{className:"card-footer",style:{justifyContent:"space-between",fontSize:"0.7rem",color:"gray",padding:"1rem"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"".concat(x.date).concat(x.isEdited?" (Edited)":"")}),d?Object(b.jsx)("div",{children:"".concat(x.username)}):Object(b.jsx)("div",{className:"LinkButton",children:Object(b.jsx)(o.b,{to:"/p/".concat(x.username),children:"".concat(x.username)})})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(C,{postID:c,totalLikes:y,isUserLiked:D,refresh:Z}),!i&&Object(b.jsx)("div",{className:"LinkButton",style:{width:"5.5rem"},onClick:V,children:"Comments".concat(F&&F>0?" (".concat(F,")"):"")})]})]})]}):Object(b.jsx)(b.Fragment,{children:K?null:Object(b.jsx)("div",{className:"card",style:{margin:"1rem auto"},children:Object(b.jsx)("div",{className:"card-content",children:Object(b.jsx)("progress",{className:"progress is-small is-light",max:"100"})})})})})}),I=n(29),D=n.n(I),L=function(e){var t=e.postID,n=e.refreshComments,a=Object(s.useState)(""),c=Object(r.a)(a,2),o=c[0],i=c[1];return Object(b.jsx)("div",{className:"card",style:{margin:"1rem auto"},children:Object(b.jsxs)("div",{className:"card-content",children:[Object(b.jsx)("textarea",{required:!0,className:"textarea",value:o,onChange:function(e){return i(e.target.value)},placeholder:"Comment on this post"}),Object(b.jsx)("button",{onClick:function(){u.a.post("/api/comments",{Comment:o,PostID:t}).then((function(){i(""),n()})).catch((function(e){e&&e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):l.a.error("Sorry, an error occured")}))},className:"button is-primary",style:{marginTop:"0.5rem"},children:"Comment"})]})})},P=function(e){var t=e.commentID,n=e.refreshComments,a=Object(s.useContext)(h),c=Object(r.a)(a,1)[0],i=Object(s.useState)(null),d=Object(r.a)(i,2),j=d[0],m=d[1],O=Object(s.useState)(!1),p=Object(r.a)(O,2),f=p[0],x=p[1],v=Object(s.useState)(""),g=Object(r.a)(v,2),w=g[0],y=g[1],S=Object(s.useCallback)((function(){u.a.get("/api/comments",{params:{CommentID:t}}).then((function(e){m(e.data)})).catch((function(e){e&&e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):l.a.error("Sorry, an error occured")}))}),[t]),C=function(){x(!1),y("")};return Object(s.useEffect)((function(){j||S()}),[j,S]),Object(b.jsx)(b.Fragment,{children:j?Object(b.jsxs)("div",{className:"card",style:{margin:"1rem auto",overflowX:"auto"},children:[(c.userID===j.userID||"Admin"===c.access)&&Object(b.jsx)("div",{style:{position:"absolute",top:"0.25rem",right:"0.25rem",fontSize:"0.7rem"},children:f?Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)("div",{className:"LinkButton",onClick:C,children:"Cancel"}),Object(b.jsx)("div",{style:{width:"0.5rem"}}),Object(b.jsx)("div",{className:"LinkButton",onClick:function(){u.a.patch("/api/comments",{CommentID:t,Comment:w}).then((function(){S(),C()})).catch((function(e){e&&e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):l.a.error("Sorry, an error occured")}))},style:{fontWeight:700},children:"Save"})]}):Object(b.jsx)("div",{className:"LinkButton",onClick:function(){var e,t=j&&(null!==(e=j.comment)&&void 0!==e?e:"");y(t),x(!0)},children:"Edit"})}),Object(b.jsx)("div",{className:"card-content",children:Object(b.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:f?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"LinkButton-Danger",onClick:function(){window.confirm("Are you sure you would like to delete this comment?")&&u.a.delete("/api/comments",{data:{CommentID:t}}).then((function(){n()})).catch((function(e){e&&e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):l.a.error("Sorry, an error occured")}))},style:{position:"absolute",top:"0.25rem",left:"0.25rem",fontSize:"0.7rem"},children:"Delete"}),Object(b.jsx)("textarea",{onChange:function(e){return y(e.target.value)},value:w,className:"textarea"})]}):Object(b.jsx)(N.a,{children:"".concat(j.comment)})})}),Object(b.jsx)("div",{className:"card-footer",style:{justifyContent:"space-between",fontSize:"0.7rem",color:"gray",padding:"1rem"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"".concat(j.date).concat(j.isEdited?" (Edited)":"")}),Object(b.jsx)("div",{className:"LinkButton",children:Object(b.jsx)(o.b,{to:"/p/".concat(j.username),children:"".concat(j.username)})})]})})]}):Object(b.jsx)("div",{className:"card",style:{margin:"1rem auto"},children:Object(b.jsx)("div",{className:"card-content",children:Object(b.jsx)("progress",{className:"progress is-small is-light",max:"100"})})})})},E=function(e){var t=e.postID,n=e.onPostDelete,a=Object(s.useContext)(h),c=Object(r.a)(a,1)[0],o=Object(s.useState)(null),i=Object(r.a)(o,2),d=i[0],j=i[1],m=Object(s.useCallback)((function(){null!==t&&u.a.get("/api/comments/list",{params:{PostID:t}}).then((function(e){j(e.data)})).catch((function(e){e&&e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):l.a.error("Sorry, an error occured")}))}),[t]);return Object(s.useEffect)((function(){d||m()}),[d,m]),Object(b.jsxs)("div",{style:{overflowX:"hidden"},children:[Object(b.jsx)(k,{postID:t,isExpanded:!0,onDelete:n}),c.isLoggedIn&&Object(b.jsx)(L,{postID:t,refreshComments:m}),d&&d.length>0&&Object(b.jsx)("div",{style:{width:"40rem",margin:"1rem auto",fontWeight:600,color:"gray",paddingLeft:"2rem"},children:"Comments"}),d&&d.map((function(e){return Object(b.jsx)(P,{commentID:e,refreshComments:m},e)}))]})};D.a.setAppElement("#root");var F=function(e){var t=e.isOpen,n=e.closeModal,s=e.postID;return Object(b.jsx)(D.a,{isOpen:t,onRequestClose:n,style:{content:{padding:"1rem 0 1rem 0",maxWidth:"60rem",margin:"auto",top:"0.5rem",bottom:"0.5rem",left:"1.75rem",right:"1.75rem"},overlay:{zIndex:35,backgroundColor:"rgba(128, 128, 128, 0.7)"}},children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(E,{postID:s,onPostDelete:function(){n()}})})})},U=function(e){var t=Object(s.useContext)(h),n=Object(r.a)(t,1)[0],a=Object(s.useState)(null),c=Object(r.a)(a,2),o=c[0],i=c[1],d=Object(s.useState)(!1),j=Object(r.a)(d,2),m=j[0],O=j[1],f=Object(s.useState)(null),g=Object(r.a)(f,2),N=g[0],w=g[1],y=Object(s.useState)(null),S=Object(r.a)(y,2),C=S[0],I=S[1],D=Object(s.useRef)(),L=Object(s.useRef)(!1);D.current=function(){return o};var P=Object(s.useCallback)((function(){u.a.get("/api/home/posts",{params:{LastID:null}}).then((function(e){return i(e.data)})).catch((function(){return setTimeout(P,500)}))}),[]),E=Object(s.useCallback)((function(){var e=D.current();if(e&&!(e.length<1)){var t=e[e.length-1];t<=1||(L.current=!0,u.a.get("/api/home/posts",{params:{lastID:t}}).then((function(e){return i([].concat(Object(p.a)(o),Object(p.a)(e.data)))})).catch((function(){return l.a.error("Sorry, something went wrong")})).finally((function(){return L.current=!1})))}}),[o]),U=function(e){w(e),O(!0),window.history.pushState(null,null,"/wh/".concat(e))},B=Object(s.useCallback)((function(e){!L.current&&window.innerHeight+document.documentElement.scrollTop+200>=document.documentElement.offsetHeight&&E()}),[E]);return Object(s.useEffect)((function(){o||P()}),[o,P]),Object(s.useEffect)((function(){return window.addEventListener("scroll",B),function(){return window.removeEventListener("scroll",B)}}),[B]),Object(s.useEffect)((function(){o&&o.length>0&&window.innerHeight>document.documentElement.offsetHeight&&B()}),[o,B]),Object(s.useEffect)((function(){return m?x.a.on():x.a.off(),function(){return x.a.off()}}),[m]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"container",children:[n.isLoggedIn&&Object(b.jsx)(v,{refreshPosts:P}),o&&o.map((function(e){return Object(b.jsx)(k,{postID:e,expandPost:U,refreshIndex:C,setRefreshIndex:I},e)}))]}),Object(b.jsx)(F,{isOpen:m,closeModal:function(){O(!1),I(N),w(null),window.history.pushState(null,null,"/")},postID:N})]})},B=function(e){var t=Object(i.g)(),n=Object(i.h)().postID;return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(E,{postID:n,onPostDelete:function(){t.push("/")}})})},R=function(e){var t=Object(i.h)().username,n=Object(s.useState)(null),a=Object(r.a)(n,2),c=a[0],o=a[1],d=Object(s.useState)(null),j=Object(r.a)(d,2),m=j[0],O=j[1],h=Object(s.useState)(!1),p=Object(r.a)(h,2),f=p[0],v=p[1],g=Object(s.useState)(null),N=Object(r.a)(g,2),w=N[0],y=N[1],S=Object(s.useState)(null),C=Object(r.a)(S,2),I=C[0],D=C[1],L=Object(s.useCallback)((function(){u.a.get("/api/profile/posts",{params:{UserID:c.userID}}).then((function(e){return O(e.data)})).catch((function(e){e&&e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):l.a.error("Sorry, an error occured")}))}),[c]),P=function(e){y(e),v(!0),window.history.pushState(null,null,"/wh/".concat(e))};return Object(s.useEffect)((function(){u.a.get("/api/profile/user",{params:{Username:t}}).then((function(e){return o(e.data)})).catch((function(e){e&&e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):l.a.error("Sorry, an error occured")}))}),[t]),Object(s.useEffect)((function(){c&&L()}),[c,L]),Object(s.useEffect)((function(){return f?x.a.on():x.a.off(),function(){return x.a.off()}}),[f]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"container",children:[c&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h5",{style:{textAlign:"center"},className:"title",children:"".concat(c.username,"'s Posts")}),Object(b.jsx)(b.Fragment,{children:"User"!==c.access&&Object(b.jsx)("h5",{style:{textAlign:"center"},className:"subtitle",children:c.access})})]}),m&&m.map((function(e){return Object(b.jsx)(k,{postID:e,expandPost:P,refreshIndex:I,setRefreshIndex:D,isProfile:!0},e)}))]}),Object(b.jsx)(F,{isOpen:f,closeModal:function(){v(!1),D(w),y(null),window.history.pushState(null,null,"/p/".concat(t))},postID:w,refresh:L})]})},q=function(e){var t=Object(s.useContext)(h),n=Object(r.a)(t,1)[0],a=Object(s.useState)(""),c=Object(r.a)(a,2),o=c[0],i=c[1],d=Object(s.useState)(""),j=Object(r.a)(d,2),m=j[0],O=j[1],p=Object(s.useState)(""),f=Object(r.a)(p,2),x=f[0],v=f[1],g=Object(s.useState)(!1),N=Object(r.a)(g,2),S=N[0],C=N[1],k=Object(s.useState)(!1),I=Object(r.a)(k,2),D=I[0],L=I[1],P=Object(s.useState)(!1),E=Object(r.a)(P,2),F=E[0],U=E[1];return Object(b.jsx)(b.Fragment,{children:n.isLoggedIn?Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-title",children:Object(b.jsx)("h1",{children:"Update Password"})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u.a.patch("/api/settings/password",{Current:o,New:m,Confirm:x}).then((function(){l.a.info("Password updated"),i(""),O(""),v("")})).catch((function(e){e&&e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):l.a.error("Sorry, an error occured")}))},children:[Object(b.jsx)("label",{htmlFor:"current-password",className:"label",children:"Current Password"}),Object(b.jsxs)("div",{className:"field has-addons",children:[Object(b.jsx)("p",{className:"control is-expanded",children:Object(b.jsx)("input",{value:o,onChange:function(e){return i(e.target.value)},className:"input",name:"current-password",type:S?"input":"password",placeholder:"Current Password",required:!0})}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("div",{onClick:function(){return C(!S)},className:"button",style:{width:"3rem"},children:Object(b.jsx)(w.a,{icon:S?y.a:y.b})})})]}),Object(b.jsx)("label",{htmlFor:"new-password",className:"label",children:"New Password"}),Object(b.jsxs)("div",{className:"field has-addons",children:[Object(b.jsx)("p",{className:"control is-expanded",children:Object(b.jsx)("input",{value:m,onChange:function(e){return O(e.target.value)},className:"input",name:"new-password",type:D?"input":"password",placeholder:"New Password",required:!0})}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("div",{onClick:function(){return L(!D)},className:"button",style:{width:"3rem"},children:Object(b.jsx)(w.a,{icon:D?y.a:y.b})})})]}),Object(b.jsx)("label",{htmlFor:"confirm-password",className:"label",children:"Confirm Password"}),Object(b.jsxs)("div",{className:"field has-addons",children:[Object(b.jsx)("p",{className:"control is-expanded",children:Object(b.jsx)("input",{value:x,onChange:function(e){return v(e.target.value)},className:"input",name:"confirm-password",type:F?"input":"password",placeholder:"Confirm Password",required:!0})}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("div",{onClick:function(){return U(!F)},className:"button",style:{width:"3rem"},children:Object(b.jsx)(w.a,{icon:F?y.a:y.b})})})]}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("p",{className:"control",children:Object(b.jsx)("button",{type:"submit",className:"button is-primary",children:"Update"})})})]})})]})}):Object(b.jsx)("div",{className:"container",children:"Please log in or create an account to view this page."})})},A=(n(98),function(e){var t=Object(s.useContext)(h),n=Object(r.a)(t,2),a=n[0],c=n[1],o=Object(s.useState)(!1),d=Object(r.a)(o,2),j=d[0],m=d[1],O=Object(s.useState)(!1),p=Object(r.a)(O,2),f=p[0],x=p[1],v=Object(s.useState)(""),g=Object(r.a)(v,2),N=g[0],S=g[1],C=Object(s.useState)(""),k=Object(r.a)(C,2),I=k[0],D=k[1],L=Object(s.useState)(""),P=Object(r.a)(L,2),E=P[0],F=P[1];return a.isLoggedIn?Object(b.jsx)(i.a,{to:"/"}):Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-title",children:Object(b.jsx)("h1",{children:"Registration"})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u.a.post("/api/register",{username:N,password:I,Confirm:E}).then((function(e){c(e.data.jwt)})).catch((function(e){e&&e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):l.a.error("Sorry, an error occured")}))},children:[Object(b.jsx)("label",{htmlFor:"username",className:"label",children:"Username"}),Object(b.jsx)("div",{className:"field",children:Object(b.jsxs)("p",{className:"control has-icons-left",children:[Object(b.jsx)("input",{value:N,onChange:function(e){return S(e.target.value)},className:"input",type:"text",name:"username",placeholder:"Username",autoFocus:!0,required:!0}),Object(b.jsx)("span",{className:"icon is-small is-left",children:Object(b.jsx)(w.a,{icon:y.e})})]})}),Object(b.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),Object(b.jsxs)("div",{className:"field has-addons",children:[Object(b.jsxs)("p",{className:"control is-expanded has-icons-left",children:[Object(b.jsx)("input",{value:I,onChange:function(e){return D(e.target.value)},className:"input",name:"password",type:j?"input":"password",placeholder:"Password",required:!0}),Object(b.jsx)("span",{className:"icon is-small is-left",children:Object(b.jsx)(w.a,{icon:y.d})})]}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("div",{onClick:function(){return m(!j)},className:"button",style:{width:"3rem"},children:Object(b.jsx)(w.a,{icon:j?y.a:y.b})})})]}),Object(b.jsx)("label",{htmlFor:"confirm-password",className:"label",children:"Confirm Password"}),Object(b.jsxs)("div",{className:"field has-addons",children:[Object(b.jsxs)("p",{className:"control is-expanded has-icons-left",children:[Object(b.jsx)("input",{value:E,onChange:function(e){return F(e.target.value)},className:"input",name:"confirm-password",type:f?"input":"password",placeholder:"Confirm Password",required:!0}),Object(b.jsx)("span",{className:"icon is-small is-left",children:Object(b.jsx)(w.a,{icon:y.d})})]}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("div",{onClick:function(){return x(!f)},className:"button",style:{width:"3rem"},children:Object(b.jsx)(w.a,{icon:f?y.a:y.b})})})]}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("p",{className:"control",children:Object(b.jsx)("button",{type:"submit",className:"button is-primary",children:"Register"})})})]})})]})})}),W=function(e){var t=Object(s.useContext)(h),n=Object(r.a)(t,2),a=n[0],c=n[1],o=Object(s.useState)(!1),d=Object(r.a)(o,2),j=d[0],m=d[1],O=Object(s.useState)(""),p=Object(r.a)(O,2),f=p[0],x=p[1],v=Object(s.useState)(""),g=Object(r.a)(v,2),N=g[0],S=g[1];return a.isLoggedIn?Object(b.jsx)(i.a,{to:"/"}):Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-title",children:Object(b.jsx)("h1",{children:"Login"})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u.a.post("/api/login",{username:f,password:N}).then((function(e){e.data.error?l.a.error(e.data.error):c(e.data.jwt)})).catch()},children:[Object(b.jsx)("label",{htmlFor:"username",className:"label",children:"Username"}),Object(b.jsx)("div",{className:"field",children:Object(b.jsxs)("p",{className:"control has-icons-left",children:[Object(b.jsx)("input",{value:f,onChange:function(e){return x(e.target.value)},className:"input",type:"text",name:"username",placeholder:"Username",autoFocus:!0,required:!0}),Object(b.jsx)("span",{className:"icon is-small is-left",children:Object(b.jsx)(w.a,{icon:y.e})})]})}),Object(b.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),Object(b.jsxs)("div",{className:"field has-addons",children:[Object(b.jsxs)("p",{className:"control is-expanded has-icons-left",children:[Object(b.jsx)("input",{value:N,onChange:function(e){return S(e.target.value)},className:"input",name:"password",type:j?"input":"password",placeholder:"Password",required:!0}),Object(b.jsx)("span",{className:"icon is-small is-left",children:Object(b.jsx)(w.a,{icon:y.d})})]}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("div",{onClick:function(){return m(!j)},className:"button",style:{width:"3rem"},children:Object(b.jsx)(w.a,{icon:j?y.a:y.b})})})]}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("p",{className:"control",children:Object(b.jsx)("button",{type:"submit",className:"button is-primary",children:"Log In"})})})]})})]})})},z=function(e){var t=Object(s.useContext)(h),n=Object(r.a)(t,2),a=n[0],c=n[1];return Object(s.useEffect)((function(){a.token&&(c(null),l.a.info("You have been logged out"))}),[a.token,c]),Object(b.jsx)(b.Fragment,{children:a.token?Object(b.jsx)(i.a,{to:"/"}):Object(b.jsx)("div",{children:"Logging out..."})})},T=function(e){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{className:"title",children:"404"}),Object(b.jsx)("p",{className:"subtitle",children:"Nothing was found at this location"})]})},H=(n(99),function(){var e=Object(s.useContext)(h),t=Object(r.a)(e,1)[0],n=Object(s.useState)(!1),a=Object(r.a)(n,2),c=a[0],i=a[1],l=Object(s.useState)(!1),d=Object(r.a)(l,2),j=d[0],u=d[1],m=Object(s.useCallback)((function(e){j&&u(!1)}),[j]);return Object(s.useEffect)((function(){return window.addEventListener("click",m),function(){return window.removeEventListener("click",m)}}),[m]),Object(b.jsxs)("nav",{style:{marginBottom:"1rem"},className:"navbar is-dark",role:"navigation","aria-label":"main navigation",children:[Object(b.jsxs)("div",{className:"navbar-brand",children:[Object(b.jsx)(o.b,{className:"navbar-item NavBar-brand",to:"/",children:"Word Hole"}),Object(b.jsxs)("div",{onClick:function(){return i(!c)},role:"button",className:"".concat(c?"is-active":""," navbar-burger"),"aria-label":"menu","aria-expanded":"false",children:[Object(b.jsx)("span",{"aria-hidden":"true"}),Object(b.jsx)("span",{"aria-hidden":"true"}),Object(b.jsx)("span",{"aria-hidden":"true"})]})]}),Object(b.jsx)("div",{className:"".concat(c?"is-active":""," navbar-menu"),children:Object(b.jsx)("div",{className:"navbar-end",children:t.isLoggedIn?Object(b.jsxs)("div",{id:"navbar-username-dropdown-button",className:"navbar-item has-dropdown ".concat(j?"is-active":""),children:[Object(b.jsx)("div",{className:"navbar-link",onClick:function(){return u(!j)},children:t.username}),Object(b.jsxs)("div",{className:"navbar-dropdown",children:[Object(b.jsx)(o.b,{className:"navbar-item",to:"/p/".concat(t.username),children:"Profile"}),Object(b.jsx)(o.b,{className:"navbar-item",to:"/settings",children:"Settings"}),Object(b.jsx)("hr",{className:"navbar-divider"}),Object(b.jsx)(o.b,{className:"navbar-item",to:"/logout",children:"Log Out"})]})]}):Object(b.jsx)("div",{className:"navbar-item",children:Object(b.jsxs)("div",{className:"buttons",children:[Object(b.jsx)(o.b,{className:"button is-dark",to:"/register",children:"Register"}),Object(b.jsx)(o.b,{className:"button is-primary",to:"/login",children:Object(b.jsx)("strong",{children:"Log In"})})]})})})})]})}),M=function(e){var t=Object(s.useState)(!1),n=Object(r.a)(t,2),a=n[0],c=n[1],o=e.setIsServerAwake;Object(s.useEffect)((function(){a||setTimeout((function(){return c(!0)}),700)}),[a]),Object(s.useEffect)((function(){return i()}),[]);var i=function e(){u.a.get("/api/common/hello").then((function(){return o(!0)})).catch((function(){return setTimeout(e,500)}))};return Object(b.jsx)(b.Fragment,{children:a?Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{className:"subtitle",style:{marginTop:"2rem"},children:"Waking up the server..."}),Object(b.jsx)("progress",{className:"progress is-small is-primary",max:"100"})]}):Object(b.jsx)(b.Fragment,{})})};l.a.configure({hideProgressBar:!0,newestOnTop:!0,autoClose:3e3});var X=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(b.jsx)(b.Fragment,{children:n?Object(b.jsx)(o.a,{children:Object(b.jsxs)(O,{children:[Object(b.jsx)(H,{}),Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.b,{path:"/",exact:!0,component:U}),Object(b.jsx)(i.b,{path:"/wh/:postID",exact:!0,component:B}),Object(b.jsx)(i.b,{path:"/p/:username",exact:!0,component:R}),Object(b.jsx)(i.b,{path:"/settings",exact:!0,component:q}),Object(b.jsx)(i.b,{path:"/register",exact:!0,component:A}),Object(b.jsx)(i.b,{path:"/login",exact:!0,component:W}),Object(b.jsx)(i.b,{path:"/logout",exact:!0,component:z}),Object(b.jsx)(i.b,{component:T})]})]})}):Object(b.jsx)(M,{setIsServerAwake:a})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(100),n(101);u.a.defaults.baseURL="https://word-hole.herokuapp.com",c.a.render(Object(b.jsx)(X,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},51:function(e,t,n){},86:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.85b64c97.chunk.js.map